{
    "version": 3,
    "terraform_version": "0.11.1",
    "serial": 29,
    "lineage": "7b302f4b-f583-4f3f-bf1d-e9e8dc255c21",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "null_resource.catalog": {
                    "type": "null_resource",
                    "depends_on": [],
                    "primary": {
                        "id": "6002855408936156602",
                        "attributes": {
                            "id": "6002855408936156602"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "rancher_environment.env1": {
                    "type": "rancher_environment",
                    "depends_on": [],
                    "primary": {
                        "id": "1a102",
                        "attributes": {
                            "description": "Default env1",
                            "id": "1a102",
                            "member.#": "1",
                            "member.4151927288.external_id": "1a1",
                            "member.4151927288.external_id_type": "rancher_id",
                            "member.4151927288.role": "owner",
                            "name": "env1",
                            "orchestration": "cattle",
                            "project_template_id": "1pt5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                },
                "rancher_host.core-02": {
                    "type": "rancher_host",
                    "depends_on": [
                        "rancher_environment.env1"
                    ],
                    "primary": {
                        "id": "1h19",
                        "attributes": {
                            "description": "The core-02 node",
                            "environment_id": "1a102",
                            "hostname": "core-02",
                            "id": "1h19",
                            "labels.%": "1",
                            "labels.traefik_lb": "true",
                            "name": "core-02"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                },
                "rancher_host.core-03": {
                    "type": "rancher_host",
                    "depends_on": [
                        "rancher_environment.env1"
                    ],
                    "primary": {
                        "id": "1h17",
                        "attributes": {
                            "description": "The core-03 node",
                            "environment_id": "1a102",
                            "hostname": "core-03",
                            "id": "1h17",
                            "labels.%": "1",
                            "labels.traefik_lb": "true",
                            "name": "core-03"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                },
                "rancher_host.core-04": {
                    "type": "rancher_host",
                    "depends_on": [
                        "rancher_environment.env1"
                    ],
                    "primary": {
                        "id": "1h18",
                        "attributes": {
                            "description": "The core-04 node",
                            "environment_id": "1a102",
                            "hostname": "core-04",
                            "id": "1h18",
                            "labels.%": "1",
                            "labels.traefik_lb": "true",
                            "name": "core-04"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                },
                "rancher_host.core-05": {
                    "type": "rancher_host",
                    "depends_on": [
                        "rancher_environment.env1"
                    ],
                    "primary": {
                        "id": "1h20",
                        "attributes": {
                            "description": "The core-05 node",
                            "environment_id": "1a102",
                            "hostname": "core-05",
                            "id": "1h20",
                            "labels.%": "2",
                            "labels.data_node": "true",
                            "labels.traefik_lb": "true",
                            "name": "core-05"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                },
                "rancher_registration_token.env1-token": {
                    "type": "rancher_registration_token",
                    "depends_on": [
                        "rancher_environment.env1"
                    ],
                    "primary": {
                        "id": "1c138",
                        "attributes": {
                            "command": "sudo docker run --rm --privileged -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/rancher:/var/lib/rancher rancher/agent:v1.2.9 http://192.168.71.101:8080/v2-beta/projects/1a102/scripts/F7466BD7E7BDDAA2D5F3:1514678400000:ZPJKmuWnD0bGepKTHLMKAAKfqqU",
                            "description": "Host registration token for Env1 environment",
                            "environment_id": "1a102",
                            "id": "1c138",
                            "image": "rancher/agent:v1.2.9",
                            "name": "env1-token",
                            "registration_url": "http://192.168.71.101:8080/v2-beta/projects/1a102/scripts/F7466BD7E7BDDAA2D5F3:1514678400000:ZPJKmuWnD0bGepKTHLMKAAKfqqU",
                            "token": "F7466BD7E7BDDAA2D5F3:1514678400000:ZPJKmuWnD0bGepKTHLMKAAKfqqU"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                },
                "rancher_stack.nfs": {
                    "type": "rancher_stack",
                    "depends_on": [
                        "rancher_environment.env1"
                    ],
                    "primary": {
                        "id": "1st26",
                        "attributes": {
                            "catalog_id": "library:infra*nfs:4",
                            "description": "NFS Rancher",
                            "docker_compose": "",
                            "environment.%": "6",
                            "environment.MOUNT_DIR": "/exports",
                            "environment.MOUNT_OPTS": "",
                            "environment.NFS_SERVER": "192.168.71.101",
                            "environment.NFS_VERS": "nfsvers=4",
                            "environment.ON_REMOVE": "purge",
                            "environment.RANCHER_DEBUG": "false",
                            "environment_id": "1a102",
                            "finish_upgrade": "true",
                            "id": "1st26",
                            "name": "nfs",
                            "rancher_compose": "",
                            "rendered_docker_compose": "version: '2'\nservices:\n  nfs-driver:\n    privileged: true\n    image: rancher/storage-nfs:v0.8.5\n    environment:\n      MOUNT_DIR: /exports\n      MOUNT_OPTS: ',nfsvers=4'\n      NFS_SERVER: 192.168.71.101\n      ON_REMOVE: purge\n      RANCHER_DEBUG: 'false'\n    network_mode: host\n    volumes:\n    - /run:/run\n    - /var/run:/var/run\n    - /dev:/host/dev\n    - /var/lib/rancher/volumes:/var/lib/rancher/volumes:shared\n    logging:\n      driver: json-file\n      options:\n        max-file: '2'\n        max-size: 25m\n    labels:\n      io.rancher.container.agent.role: environment\n      io.rancher.container.dns: 'true'\n      io.rancher.container.create_agent: 'true'\n      io.rancher.scheduler.global: 'true'\n",
                            "rendered_rancher_compose": "version: '2'\nservices:\n  nfs-driver:\n    storage_driver:\n      name: rancher-nfs\n      scope: environment\n      volumeAccessMode: multiHostRW\n    start_on_create: true\n",
                            "scope": "system",
                            "start_on_create": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                },
                "rancher_stack.traefik": {
                    "type": "rancher_stack",
                    "depends_on": [
                        "rancher_environment.env1"
                    ],
                    "primary": {
                        "id": "1st27",
                        "attributes": {
                            "catalog_id": "community:traefik:16",
                            "description": "Http Load Balancer Rancher",
                            "docker_compose": "",
                            "environment.%": "29",
                            "environment.acme_caserver": "https://acme-v01.api.letsencrypt.org/directory",
                            "environment.acme_email": "test@traefik.io",
                            "environment.acme_enable": "false",
                            "environment.acme_ondemand": "true",
                            "environment.acme_onhostrule": "1",
                            "environment.acme_vol_driver": "local",
                            "environment.acme_vol_name": "traefik_acme_vol",
                            "environment.admin_auth_method": "basic",
                            "environment.admin_port": "8000",
                            "environment.admin_readonly": "false",
                            "environment.admin_statistics": "10",
                            "environment.admin_users": "",
                            "environment.cattle_access_key": "",
                            "environment.cattle_secret_key": "",
                            "environment.cattle_url": "",
                            "environment.compress_enable": "true",
                            "environment.constraints": "",
                            "environment.host_label": "traefik_lb=true",
                            "environment.http_port": "80",
                            "environment.https_enable": "0",
                            "environment.https_min_tls": "",
                            "environment.https_port": "443",
                            "environment.insecure_skip": "false",
                            "environment.prometheus_buckets": "[0.1,0.3,1.2,5.0]",
                            "environment.prometheus_enable": "false",
                            "environment.rancher_healthcheck": "false",
                            "environment.rancher_integration": "metadata",
                            "environment.ssl_crt": "",
                            "environment.ssl_key": "",
                            "environment_id": "1a102",
                            "finish_upgrade": "true",
                            "id": "1st27",
                            "name": "traefik",
                            "rancher_compose": "",
                            "rendered_docker_compose": "version: '2'\nservices:\n  traefik:\n    image: rawmind/alpine-traefik:1.4.6-0\n    environment:\n      TRAEFIK_ADMIN_AUTH_METHOD: basic\n      TRAEFIK_ADMIN_AUTH_USERS: ''\n      TRAEFIK_ADMIN_ENABLE: 'true'\n      TRAEFIK_ADMIN_READ_ONLY: 'false'\n      TRAEFIK_ADMIN_STATISTICS: '10'\n      TRAEFIK_CONSTRAINTS: ''\n      TRAEFIK_HTTPS_COMPRESSION: 'true'\n      TRAEFIK_HTTPS_ENABLE: '0'\n      TRAEFIK_HTTPS_PORT: '443'\n      TRAEFIK_HTTP_COMPRESSION: 'true'\n      TRAEFIK_HTTP_PORT: '80'\n      TRAEFIK_INSECURE_SKIP: 'false'\n      TRAEFIK_RANCHER_ENABLE: 'true'\n      TRAEFIK_RANCHER_HEALTHCHECK: 'false'\n      TRAEFIK_RANCHER_MODE: metadata\n    ports:\n    - 8000:8000/tcp\n    - 80:80/tcp\n    - 443:443/tcp\n    labels:\n      io.rancher.scheduler.affinity:host_label: traefik_lb=true\n      io.rancher.container.hostname_override: container_name\n      io.rancher.scheduler.affinity:container_label_ne: io.rancher.stack_service.name=$${stack_name}/$${service_name}\n      io.rancher.scheduler.global: 'true'\n",
                            "rendered_rancher_compose": "version: '2'\nservices:\n  traefik:\n    retain_ip: true\n    start_on_create: true\n    health_check:\n      healthy_threshold: 2\n      response_timeout: 5000\n      port: 8000\n      unhealthy_threshold: 3\n      interval: 5000\n      strategy: recreate\n",
                            "scope": "system",
                            "start_on_create": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.rancher"
                }
            },
            "depends_on": []
        }
    ]
}
